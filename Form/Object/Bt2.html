<!DOCTYPE html>
<html>
<head>
    <title>Math Functions</title>
</head>
<body>
    <script>
        // 1. Tính bình phương
        function square(number) {
            return number * number;
        }

        // 2. Tính diện tích và chu vi hình tròn
        function calculateCircleArea(radius) {
            return Math.PI * radius * radius;
        }

        function calculateCirclePerimeter(radius) {
            return 2 * Math.PI * radius;
        }

        // 3. Tính giai thừa
        function factorial(n) {
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        // 4. Kiểm tra ký tự số
        function isDigit(char) {
            return char >= '0' && char <= '9';
        }

        // 5. Tìm số nguyên nhỏ nhất
        function findMin(a, b, c) {
            return Math.min(a, b, c);
        }

        // 6. Kiểm tra số nguyên dương
        function isPositiveInteger(number) {
            return Number.isInteger(number) && number > 0;
        }

        // 7. Đổi chỗ hai số nguyên
        function swapNumbers(a, b) {
            let temp = a;
            a = b;
            b = temp;
            return [a, b];
        }

        // 8. Đảo ngược mảng
        function reverseArray(arr) {
            return arr.reverse();
        }

        // 9. Kiểm tra ký tự trong mảng
        function countCharInArray(arr, char) {
            let count = 0;
            for (let i = 0; i < arr.length; i++) {
                if (arr[i] === char) {
                    count++;
                }
            }
            return count > 0 ? count : -1;
        }

        // Test các hàm
        console.log("Bình phương của 5:", square(5)); // 25
        console.log("Diện tích hình tròn bán kính 3:", calculateCircleArea(3).toFixed(2));
        console.log("Chu vi hình tròn bán kính 3:", calculateCirclePerimeter(3).toFixed(2));
        console.log("Giai thừa của 5:", factorial(5)); // 120
        console.log("Kiểm tra ký tự '5':", isDigit('5')); // true
        console.log("Kiểm tra ký tự 'a':", isDigit('a')); // false
        console.log("Số nhỏ nhất trong 3 số 5, 2, 8:", findMin(5, 2, 8)); // 2
        console.log("Kiểm tra số 5 có phải số nguyên dương:", isPositiveInteger(5)); // true
        console.log("Đổi chỗ 2 số 5 và 10:", swapNumbers(5, 10)); // [10, 5]
        console.log("Đảo ngược mảng [1,2,3,4,5]:", reverseArray([1,2,3,4,5])); // [5,4,3,2,1]
        console.log("Số lần xuất hiện của 'a' trong ['a','b','a','c']:", 
            countCharInArray(['a','b','a','c'], 'a')); // 2

        function isPalindrome(str) {
            // Loại bỏ khoảng trắng và chuyển về chữ thường
            str = str.toLowerCase().replace(/\s/g, '');
            
            // Nếu chuỗi rỗng hoặc chỉ có 1 ký tự, đó là palindrome
            if (str.length <= 1) {
                return true;
            }
            
            // Kiểm tra ký tự đầu và cuối
            if (str[0] !== str[str.length - 1]) {
                return false;
            }
            
            // Kiểm tra phần còn lại của chuỗi
            return isPalindrome(str.slice(1, -1));
        }

        // Test các trường hợp
        console.log("'rotor' có phải palindrome?", isPalindrome('rotor')); // true
        console.log("'redder' có phải palindrome?", isPalindrome('redder')); // true
        console.log("'motor' có phải palindrome?", isPalindrome('motor')); // false
        console.log("'A man a plan a canal Panama' có phải palindrome?", 
            isPalindrome('A man a plan a canal Panama')); // true
        console.log("'hello' có phải palindrome?", isPalindrome('hello')); // false
    </script>
</body>
</html>
